!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=1)}([function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return i}));const o="https://api.flickr.com/services",r={};function i(n,t){var i=document.createElement("script");i.setAttribute("src",`${o}${n}&jsoncallback=${t}`),i.onload=function(){document.body.removeChild(i)};const s=new Promise(n=>{e[t]=function(o){r[t]--,0===r[t]&&delete r[t],0===r&&delete e[t],n(o)}});return void 0===r[t]&&(r[t]=0),r[t]++,document.body.appendChild(i),s}}).call(this,t(7))},function(e,n,t){e.exports=t(8)},function(e,n,t){"use strict";t.r(n),n.default=t.p+"index.html"},function(e,n,t){var o=t(4);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};t(6)(o,r);o.locals&&(e.exports=o.locals)},function(e,n,t){(e.exports=t(5)(!1)).push([e.i,"*{box-sizing:border-box}body{background-color:#ebe1f5;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;margin:0;overflow:hidden}.app{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100vh;width:100vw}.text-white{color:#fdfcfe}.text-align-center{text-align:center}.primary{color:#ff1493}.hidden{display:none !important}\n",""])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var r=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[t].concat(i).concat([r]).join("\n")}var s,a,c;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2],"{").concat(t,"}"):t})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var a=e[s];null!=a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="(".concat(a[2],") and (").concat(t,")")),n.push(a))}},n}},function(e,n,t){"use strict";var o,r={},i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}();function a(e,n){for(var t=[],o={},r=0;r<e.length;r++){var i=e[r],s=n.base?i[0]+n.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):t.push(o[s]={id:s,parts:[a]})}return t}function c(e,n){for(var t=0;t<e.length;t++){var o=e[t],i=r[o.id],s=0;if(i){for(i.refs++;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(g(o.parts[s],n))}else{for(var a=[];s<o.parts.length;s++)a.push(g(o.parts[s],n));r[o.id]={id:o.id,refs:1,parts:a}}}}function l(e){var n=document.createElement("style");if(void 0===e.attributes.nonce){var o=t.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(t){n.setAttribute(t,e.attributes[t])})),"function"==typeof e.insert)e.insert(n);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var d,u=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function m(e,n,t,o){var r=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=u(n,r);else{var i=document.createTextNode(r),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(i,s[n]):e.appendChild(i)}}function f(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,p=0;function g(e,n){var t,o,r;if(n.singleton){var i=p++;t=h||(h=l(n)),o=m.bind(null,t,i,!1),r=m.bind(null,t,i,!0)}else t=l(n),o=f.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).attributes="object"==typeof n.attributes?n.attributes:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=i());var t=a(e,n);return c(t,n),function(e){for(var o=[],i=0;i<t.length;i++){var s=t[i],l=r[s.id];l&&(l.refs--,o.push(l))}e&&c(a(e,n),n);for(var d=0;d<o.length;d++){var u=o[d];if(0===u.refs){for(var m=0;m<u.parts.length;m++)u.parts[m]();delete r[u.id]}}}}},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";t.r(n);var o=t(0);class r extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"});this.render(e)}static get observedAttributes(){return["buttonName"]}attributeChangedCallback(e,n,t){n!==t&&(this.shadowRoot.querySelector(`.${e}`).innerText=t)}render(e){const n=document.createElement("template");n.innerHTML="\n      <style>\n        input {\n          margin: 0.5rem;\n          max-width: 100%;\n          flex: 1 0 auto;\n          outline: 0;\n          text-align: left;\n          line-height: 1.2em;\n          font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif;\n          padding: .67em 1em;\n          background: #fff;\n          border: 1px solid lightgray;\n          border-radius: .28rem;\n        }\n        button {\n          cursor: pointer;\n          min-height: 1em;\n          outline: 0;\n          border: none;\n          vertical-align: baseline;\n          background: #2185d0 none;\n          color: #fff;\n          font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif;\n          margin: 0 .25em 0 0;\n          padding: .78571429em 1.5em .78571429em;\n          text-transform: none;\n          text-shadow: none;\n          font-weight: 700;\n          line-height: 1em;\n          font-style: normal;\n          text-align: center;\n          text-decoration: none;\n          border-radius: .28rem;\n          box-shadow: 0 0 0 1px transparent inset, 0 0 0 0 rgba(34,36,38,.15) inset;\n          user-select: none;\n          transition: opacity .1s ease,background-color .1s ease,color .1s ease,background .1s ease,-webkit-box-shadow .1s ease;\n          transition: opacity .1s ease,background-color .1s ease,color .1s ease,box-shadow .1s ease,background .1s ease;\n          transition: opacity .1s ease,background-color .1s ease,color .1s ease,box-shadow .1s ease,background .1s ease,-webkit-box-shadow .1s ease;\n          will-change: '';\n        }\n        button:hover {\n          background-color: #1678c2;\n        }\n        button:active {\n          background-color: #1a69a4;\n        }\n      </style>\n      <div class=\"search-bar\">\n        <form>\n          <input />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n    ",e.appendChild(n.content.cloneNode(!0)),e.querySelector("form").addEventListener("submit",async n=>{n.preventDefault();const t=await async function(e=""){const n=`/feeds/photos_public.gne?format=json&safe_search=1&media=photos&tags=${e}`;return Object(o.a)(n,"jsonFlickrFeed")}(e.querySelector("input").value);this.dispatchEvent(new CustomEvent("submit",{detail:t}))},!1)}}window.customElements.define("ml-search-bar",r);class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._children=[],this.render()}set children(e){this._children=e,this.renderChildren()}get children(){return this._children}renderChildren(){const e=this.children.map(e=>`<div class="grid-item">\n          ${e}\n        </div>`);this.shadowRoot.querySelector(".grid").innerHTML=e.join("\n")}render(){const e=document.createElement("template");e.innerHTML="\n      <style>\n        .grid {\n          display: flex;\n          flex-wrap: wrap;\n        }\n\n        .grid-item {\n          width: 100%;\n        }\n\n        @media (min-width: 768px) {\n          .grid-item {\n            flex: 1;\n          }\n\n          .grid--fit > .grid-item {\n            flex: 1;\n          }\n\n          .grid--full > .grid-item {\n            flex: 0 0 100%;\n          }\n\n          .grid--1of2 > .grid-item {\n            flex: 0 0 50%;\n            width: 50%;\n          }\n\n          .grid--1of3 > .grid-item {\n            flex: 0 0 33.3333%;\n            width: 33.3333%;\n          }\n\n          .grid--1of4 > .grid-item {\n            flex: 0 0 25%;\n            width: 25%;\n          }\n        }\n\n        .thumbnail {\n          background-color: $white;\n          border-radius: 4px;\n          border: 1px solid $gray;\n          box-shadow: 1px 1px 5px $black;\n          padding: 5px;\n        }\n        .fill-image {\n          border-radius: 4px;\n          background-position: center;\n          background-size: cover;\n          cursor: pointer;\n        }\n        .fill-image:before {\n          content: '';\n          display: block;\n          padding-bottom: calc(100% * 9/16);\n        }\n      </style>\n      <div class=\"grid grid grid--1of4\">\n      </div>\n    ",this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.shadowRoot.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();let n=e.target;for(;"function"==typeof n.getAttribute&&"string"!=typeof n.getAttribute("data-src")&&n!==this;)n=n.parentNode;const t=n.getAttribute("data-src");"string"==typeof t?this.dispatchEvent(new CustomEvent("click",{detail:t})):console.error("Did not find node with data-src")})}}window.customElements.define("ml-grid",i);class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._content=null,this.render()}set content(e){this._content=e,this.renderContent()}get content(){return this._content}renderContent(){this.shadowRoot.querySelector(".content-placeholder").innerHTML=this._content,this.shadowRoot.querySelector(".modal").classList.toggle("show-modal")}render(){const e=document.createElement("template");e.innerHTML='\n      <style>\n        .modal {\n          position: fixed;\n          left: 0;\n          top: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.5);\n          opacity: 0;\n          visibility: hidden;\n          transform: scale(1.1);\n          transition: visibility 0s linear 0.25s, opacity 0.25s 0s, transform 0.25s;\n        }\n        .modal-content {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          background-color: white;\n          padding: 1rem 1.5rem;\n          width: 50rem;\n          border-radius: 0.5rem;\n        }\n        .close-button {\n          float: right;\n          width: 1.5rem;\n          line-height: 1.5rem;\n          text-align: center;\n          margin-top: -3rem;\n          margin-right: -3rem;\n          cursor: pointer;\n          color: violet;\n          background-color: black;\n          border-radius: 1rem;\n        }\n        .show-modal {\n          opacity: 1;\n          visibility: visible;\n          transform: scale(1.0);\n          transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n        }\n        .fill-image {\n          border-radius: 4px;\n          background-position: center;\n          background-size: cover;\n        }\n        .fill-image:before {\n          content: \'\';\n          display: block;\n          padding-bottom: calc(100% * 9/16);\n        }\n      </style>\n      <div class="modal">\n        <div class="modal-content">\n          <span class="close-button">&times;</span>\n          <div class="content-placeholder"></div>\n        </div>\n      </div>\n    ',this.shadowRoot.appendChild(e.content.cloneNode(!0));const n=this.shadowRoot.querySelector(".modal");function t(){n.classList.toggle("show-modal")}this.shadowRoot.querySelector(".close-button").addEventListener("click",t),window.addEventListener("click",e=>{e.target===n&&t()})}}window.customElements.define("ml-modal",s);class a extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._items=[],this.render()}set items(e){this._items=e,this.renderImages()}get items(){return this._items}renderImages(){const e=this.items.map(e=>`<div class="thumbnail">\n          <div class="fill-image" style="background-image: url(${e.media.m})" data-src="${e.media.m}"></div>\n        </div>`);this.shadowRoot.querySelector("ml-grid").children=e}render(){const e=document.createElement("template");e.innerHTML="\n      <style>\n      </style>\n      <ml-modal></ml-modal>\n      <ml-grid></ml-grid>\n    ",this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.shadowRoot.querySelector("ml-grid").addEventListener("click",async e=>{const n=this.items.find(n=>n.media.m===e.detail);n||console.error("Did not find clicked image in list of items");const t=await async function(e){const n=`/rest/?method=flickr.photos.getSizes&api_key=1c00c6a8b785a5baf3fb98859ae3ed18&photo_id=${function(e){const n=e.split("/"),t=n.pop();return t||n.pop()}(e)}&format=json`;return Object(o.a)(n,"jsonFlickrFeed")}(n.link);t||console.error("Image failed to fetch");const r=t.sizes.size.find(e=>"Original"===e.label);this.shadowRoot.querySelector("ml-modal").content=`\n        <div class="fill-image" style="background-image: url(${r.source})"></div>\n      `})}}window.customElements.define("ml-image-grid",a);class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render()}render(){const e=document.createElement("template");e.innerHTML="\n      <ml-search-bar></ml-search-bar>\n      <ml-image-grid></ml-image-grid>\n    ",this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.shadowRoot.querySelector("ml-search-bar").addEventListener("submit",e=>{this.shadowRoot.querySelector("ml-image-grid").items=e.detail.items})}}window.customElements.define("ml-app",c),t(2),t(3)}]);
//# sourceMappingURL=index.js.map